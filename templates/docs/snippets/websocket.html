{% verbatim %}
<pre><code class="language-jsx">
componentDidMount: function() {
  console.log(&#x27;Connecting...&#x27;);
  this.ws = new WebSocket(&#x27;wss://siphon-chat.herokuapp.com&#x27;);
  this.ws.onmessage = function(event) {
    if (event.data != &#x27;ping&#x27;) {
      console.log(&#x27;Received: &#x27; + event.data);
    }
  }.bind(this);
  this.ws.onerror = function() {
    console.log(&#x27;WebSocket error: &#x27;, arguments);
  };
},
componentWillUnmount: function() {
  this.ws.close();
},
</code></pre>
{% endverbatim %}
